# 3.3 ì»¤ë°‹ ì»¨ë²¤ì…˜ êµ¬í˜„

## ğŸ“‹ ê°œìš”

**ëª©í‘œ**: ì¼ê´€ë˜ê³  ì˜ë¯¸ìˆëŠ” ì»¤ë°‹ ë©”ì‹œì§€ë¡œ í”„ë¡œì íŠ¸ íˆìŠ¤í† ë¦¬ ê°€ë…ì„± í–¥ìƒ ë° ìë™í™” ì§€ì›  
**ì†Œìš” ì‹œê°„**: 2-3ì‹œê°„  
**ë‚œì´ë„**: ì¤‘ê¸‰

WSL Ubuntu í™˜ê²½ì—ì„œ Docker ê¸°ë°˜ìœ¼ë¡œ MLOps í”„ë¡œì íŠ¸ì— ìµœì í™”ëœ ì»¤ë°‹ ì»¨ë²¤ì…˜ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

---

## ğŸ¯ 1. Conventional Commits í‘œì¤€ ì„¤ì •

### 1.1 Requirements ê¸°ë°˜ ë„êµ¬ ì„¤ì¹˜

```bash
# WSL Ubuntu í™˜ê²½ì—ì„œ ì‹¤í–‰
cd /mnt/c/dev/movie-mlops

# requirements-dev.txtì˜ ì»¤ë°‹ ë„êµ¬ë“¤ ì„¤ì¹˜
pip install commitizen>=3.29.1,<4.0.0
pip install conventional-pre-commit>=3.4.0,<4.0.0
pip install pre-commit>=4.0.1,<5.0.0

# ì„¤ì¹˜ í™•ì¸
cz version
pre-commit --version
```

### 1.2 MLOps íŠ¹í™” ì»¤ë°‹ íƒ€ì… ì •ì˜

```bash
# pyproject.tomlì— ì»¤ë°‹ ì»¨ë²¤ì…˜ ì„¤ì •
cat >> pyproject.toml << 'EOF'

[tool.commitizen]
name = "cz_conventional_commits"
tag_format = "v$version"
version_scheme = "semver"
version_provider = "commitizen"
update_changelog_on_bump = true
major_version_zero = true

[tool.commitizen.customize]
message_template = "{{change_type}}{{scope}}: {{message}}"
example = "feat(stage1): add TMDB data crawler with rate limiting"
schema = """
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
"""

schema_pattern = "^(feat|fix|docs|style|refactor|test|chore|perf|ci|revert|data|model|pipeline|deploy|config|infra|monitor)(\\(.+\\))?: .+$"

bump_pattern = "^(feat|fix|perf|refactor|BREAKING CHANGE)"
bump_map = {"BREAKING CHANGE" = "MAJOR", "feat" = "MINOR", "fix" = "PATCH", "perf" = "PATCH", "refactor" = "PATCH"}

change_type_order = ["BREAKING CHANGE", "feat", "fix", "refactor", "perf"]

[[tool.commitizen.customize.questions]]
type = "list"
name = "change_type"
choices = [
    {value = "feat", name = "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"},
    {value = "fix", name = "fix: ë²„ê·¸ ìˆ˜ì •"},
    {value = "docs", name = "docs: ë¬¸ì„œ ë³€ê²½"},
    {value = "style", name = "style: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)"},
    {value = "refactor", name = "refactor: ì½”ë“œ ë¦¬íŒ©í† ë§"},
    {value = "test", name = "test: í…ŒìŠ¤íŠ¸ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •"},
    {value = "chore", name = "chore: ë¹Œë“œ ê³¼ì • ë˜ëŠ” ë³´ì¡° ë„êµ¬ ë³€ê²½"},
    {value = "perf", name = "perf: ì„±ëŠ¥ ê°œì„ "},
    {value = "ci", name = "ci: CI ì„¤ì • ë³€ê²½"},
    {value = "revert", name = "revert: ì´ì „ ì»¤ë°‹ ë˜ëŒë¦¬ê¸°"},
    {value = "data", name = "data: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ë˜ëŠ” ì†ŒìŠ¤ ë³€ê²½"},
    {value = "model", name = "model: ëª¨ë¸ ì•„í‚¤í…ì²˜ ë˜ëŠ” í•˜ì´í¼íŒŒë¼ë¯¸í„° ë³€ê²½"},
    {value = "pipeline", name = "pipeline: ë°ì´í„° ë˜ëŠ” ML íŒŒì´í”„ë¼ì¸ ë³€ê²½"},
    {value = "deploy", name = "deploy: ë°°í¬ ì„¤ì • ë³€ê²½"},
    {value = "config", name = "config: ì„¤ì • íŒŒì¼ ë³€ê²½"},
    {value = "infra", name = "infra: ì¸í”„ë¼ ì½”ë“œ ë³€ê²½"},
    {value = "monitor", name = "monitor: ëª¨ë‹ˆí„°ë§ ì„¤ì • ë³€ê²½"}
]
message = "ë³€ê²½ íƒ€ì…ì„ ì„ íƒí•˜ì„¸ìš”:"

[[tool.commitizen.customize.questions]]
type = "input"
name = "scope"
message = "ë³€ê²½ ë²”ìœ„ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­, ì˜ˆ: stage1, api, docker):"

[[tool.commitizen.customize.questions]]
type = "input"
name = "message"
message = "ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”:"

[[tool.commitizen.customize.questions]]
type = "input"
name = "body"
message = "ì»¤ë°‹ ë³¸ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­):"

[[tool.commitizen.customize.questions]]
type = "input"
name = "footer"
message = "í‘¸í„°ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­, ì˜ˆ: Closes #123):"
EOF

echo "âš™ï¸ Commitizen ì„¤ì • ì™„ë£Œ"
```

### 1.3 MLOps ìŠ¤ì½”í”„ ê°€ì´ë“œë¼ì¸

```bash
# ì»¤ë°‹ ìŠ¤ì½”í”„ ê°€ì´ë“œ ë¬¸ì„œ ìƒì„±
cat > .github/COMMIT_SCOPE_GUIDE.md << 'EOF'
# MLOps ì»¤ë°‹ ìŠ¤ì½”í”„ ê°€ì´ë“œë¼ì¸

## ğŸ“‹ ìŠ¤ì½”í”„ ë¶„ë¥˜

### ğŸ¯ MLOps ë‹¨ê³„ë³„ ìŠ¤ì½”í”„
```
stage1    # 1ë‹¨ê³„: ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„ ë„êµ¬ë“¤
stage2    # 2ë‹¨ê³„: í”¼ì²˜ ìŠ¤í† ì–´ ë° ML í”Œë«í¼ ë„êµ¬ë“¤
stage3    # 3ë‹¨ê³„: ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
stage4    # 4ë‹¨ê³„: CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
stage5    # 5ë‹¨ê³„: ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
stage6    # 6ë‹¨ê³„: ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¤‘ì‹¬ì˜ ëª¨ë¸ ê´€ë¦¬ ì²´ê³„
stage7    # 7ë‹¨ê³„: ML í”„ë ˆì„ì›Œí¬ì™€ ëª¨ë¸ ì„œë¹™ í†µí•©
stage8    # 8ë‹¨ê³„: ëª¨ë‹ˆí„°ë§ ë° ê´€ì¸¡ì„± ê°•í™”
stage9    # 9ë‹¨ê³„: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì™„ì„±
```

### ğŸ”§ ê¸°ìˆ ì  ìŠ¤ì½”í”„
```
api       # API ê´€ë ¨ ë³€ê²½
crawler   # ë°ì´í„° í¬ë¡¤ëŸ¬
processor # ë°ì´í„° ì²˜ë¦¬ê¸°
features  # í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
models    # ëª¨ë¸ ê´€ë ¨
docker    # Docker ì„¤ì •
k8s       # Kubernetes ì„¤ì •
airflow   # Apache Airflow
mlflow    # MLflow ê´€ë ¨
fastapi   # FastAPI ì„œë²„
react     # React í”„ë¡ íŠ¸ì—”ë“œ
```

### ğŸ“ ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤ì½”í”„
```
data      # ë°ì´í„° ê´€ë ¨
config    # ì„¤ì • íŒŒì¼
tests     # í…ŒìŠ¤íŠ¸ ì½”ë“œ
docs      # ë¬¸ì„œ
scripts   # ìŠ¤í¬ë¦½íŠ¸
utils     # ìœ í‹¸ë¦¬í‹°
```

## âœ… ì˜¬ë°”ë¥¸ ì»¤ë°‹ ë©”ì‹œì§€ ì˜ˆì‹œ

### ê¸°ëŠ¥ ì¶”ê°€
```bash
feat(stage1): add TMDB API rate limiting with exponential backoff
feat(crawler): implement bulk movie data collection with pagination
feat(stage2): add simple feature store with parquet backend
```

### ë²„ê·¸ ìˆ˜ì •
```bash
fix(api): resolve memory leak in TMDB crawler
fix(docker): correct volume mount permissions in WSL environment
fix(stage3): fix branch naming validation regex pattern
```

### ë°ì´í„° ê´€ë ¨
```bash
data(stage1): update TMDB API schema to v4
data(features): add new movie popularity features
pipeline(stage2): optimize feature extraction performance
```

### ì„¤ì • ë³€ê²½
```bash
config(docker): add development environment variables
config(stage3): update Git LFS tracking patterns
deploy(k8s): configure horizontal pod autoscaling
```

### ë¬¸ì„œí™”
```bash
docs(stage1): add TMDB crawler usage examples
docs(api): update FastAPI endpoint documentation
docs: update README with WSL setup instructions
```

## âŒ í”¼í•´ì•¼ í•  ì»¤ë°‹ ë©”ì‹œì§€

```bash
# ë„ˆë¬´ ëª¨í˜¸í•¨
fix: bug fix
feat: new feature
update: some changes

# íƒ€ì…ì´ ì—†ìŒ
add TMDB crawler
update documentation
fix memory issue

# ì˜ëª»ëœ íƒ€ì…
feat: fix typo in README  # ì‹¤ì œë¡œëŠ” docsì—¬ì•¼ í•¨
fix: add new feature     # ì‹¤ì œë¡œëŠ” featì—¬ì•¼ í•¨
```

## ğŸ¯ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± íŒ

1. **ì œëª©ì€ 50ì ì´ë‚´**ë¡œ ê°„ê²°í•˜ê²Œ
2. **í˜„ì¬í˜• ë™ì‚¬** ì‚¬ìš© (add, fix, update)
3. **ì²« ê¸€ìëŠ” ì†Œë¬¸ì**ë¡œ ì‹œì‘
4. **ë§ˆì¹¨í‘œ ì—†ì´** ì‘ì„±
5. **Whatê³¼ Why**ë¥¼ ëª…í™•íˆ ì„¤ëª…
6. **ì´ìŠˆ ë²ˆí˜¸ ì—°ê²°** ì‹œ footerì— "Closes #123" í˜•ì‹ ì‚¬ìš©
EOF

echo "ğŸ“ ì»¤ë°‹ ìŠ¤ì½”í”„ ê°€ì´ë“œ ìƒì„± ì™„ë£Œ"
```

---

## ğŸ¯ 2. Pre-commit Hook ì„¤ì •

### 2.1 .pre-commit-config.yaml ì„¤ì •

```bash
# MLOps í”„ë¡œì íŠ¸ìš© pre-commit ì„¤ì •
cat > .pre-commit-config.yaml << 'EOF'
# MLOps í”„ë¡œì íŠ¸ìš© pre-commit ì„¤ì •
default_language_version:
  python: python3.11

repos:
  # ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦
  - repo: https://github.com/compilerla/conventional-pre-commit
    rev: v3.4.0
    hooks:
      - id: conventional-pre-commit
        stages: [commit-msg]
        args: [--strict, --optional-scope]

  # Python ì½”ë“œ í’ˆì§ˆ
  - repo: https://github.com/psf/black
    rev: 24.10.0
    hooks:
      - id: black
        language_version: python3.11
        args: [--line-length=88]

  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: [--profile=black, --line-length=88]

  - repo: https://github.com/pycqa/flake8
    rev: 7.1.1
    hooks:
      - id: flake8
        args: [--max-line-length=88, --extend-ignore=E203,W503]

  # ì¼ë°˜ì ì¸ ê²€ì‚¬
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.6.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-json
      - id: check-toml
      - id: check-merge-conflict
      - id: check-added-large-files
        args: ['--maxkb=10240']  # 10MB ì œí•œ
      - id: debug-statements

  # MLOps íŠ¹í™” ê²€ì‚¬
  - repo: local
    hooks:
      - id: commit-message-mlops-check
        name: MLOps ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦
        entry: python scripts/hooks/validate_commit_message.py
        language: python
        stages: [commit-msg]
        pass_filenames: false

      - id: data-file-validation
        name: ë°ì´í„° íŒŒì¼ ê²€ì¦
        entry: python scripts/hooks/validate_data_files.py
        language: python
        files: ^data/.*\.(json|csv|parquet)$
        pass_filenames: true
EOF

# Pre-commit ì„¤ì¹˜
pre-commit install
pre-commit install --hook-type commit-msg

echo "ğŸ”— Pre-commit hooks ì„¤ì¹˜ ì™„ë£Œ"
```

### 2.2 ì»¤ìŠ¤í…€ ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í›…

```bash
# ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í›… ìƒì„±
mkdir -p scripts/hooks

cat > scripts/hooks/validate_commit_message.py << 'EOF'
#!/usr/bin/env python3
"""
MLOps í”„ë¡œì íŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í›…
"""
import sys
import re
from pathlib import Path

# MLOps íŠ¹í™” ì»¤ë°‹ íƒ€ì…
VALID_TYPES = [
    'feat', 'fix', 'docs', 'style', 'refactor', 'test', 'chore',
    'perf', 'ci', 'revert', 'data', 'model', 'pipeline', 'deploy',
    'config', 'infra', 'monitor'
]

# MLOps íŠ¹í™” ìŠ¤ì½”í”„
VALID_SCOPES = [
    # MLOps ë‹¨ê³„
    'stage1', 'stage2', 'stage3', 'stage4', 'stage5',
    'stage6', 'stage7', 'stage8', 'stage9',
    # ê¸°ìˆ ì  ìŠ¤ì½”í”„
    'api', 'crawler', 'processor', 'features', 'models',
    'docker', 'k8s', 'airflow', 'mlflow', 'fastapi', 'react',
    # ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤ì½”í”„
    'data', 'config', 'tests', 'docs', 'scripts', 'utils'
]

def validate_commit_message(message: str) -> tuple[bool, str]:
    """ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦"""
    
    lines = message.strip().split('\n')
    if not lines:
        return False, "ì»¤ë°‹ ë©”ì‹œì§€ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤"
    
    header = lines[0]
    
    # ê¸°ë³¸ íŒ¨í„´ ê²€ì¦
    pattern = r'^(feat|fix|docs|style|refactor|test|chore|perf|ci|revert|data|model|pipeline|deploy|config|infra|monitor)(\(.+\))?: .+'
    
    if not re.match(pattern, header):
        return False, f"""
âŒ ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì˜¬ë°”ë¥¸ í˜•ì‹: <type>[optional scope]: <description>

ì˜ˆì‹œ:
  feat(stage1): add TMDB API rate limiting
  fix(docker): resolve WSL volume permission issue
  docs: update README with setup instructions

ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ì…: {', '.join(VALID_TYPES)}
ì¶”ì²œ ìŠ¤ì½”í”„: {', '.join(VALID_SCOPES[:10])}... (ë” ë§ìŒ)
"""
    
    # íƒ€ì… ì¶”ì¶œ ë° ê²€ì¦
    type_match = re.match(r'^([a-z]+)', header)
    if type_match:
        commit_type = type_match.group(1)
        if commit_type not in VALID_TYPES:
            return False, f"ì§€ì›í•˜ì§€ ì•ŠëŠ” ì»¤ë°‹ íƒ€ì…: {commit_type}"
    
    # ìŠ¤ì½”í”„ ì¶”ì¶œ ë° ê²€ì¦ (ì„ íƒì‚¬í•­)
    scope_match = re.search(r'\(([^)]+)\)', header)
    if scope_match:
        scope = scope_match.group(1)
        if scope not in VALID_SCOPES:
            # ê²½ê³ ë§Œ ì¶œë ¥í•˜ê³  í†µê³¼ (ìŠ¤ì½”í”„ëŠ” ì—„ê²©í•˜ì§€ ì•Šê²Œ)
            print(f"âš ï¸ ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ìŠ¤ì½”í”„: {scope}")
            print(f"   ì¶”ì²œ ìŠ¤ì½”í”„: {', '.join(VALID_SCOPES[:5])}...")
    
    # ì œëª© ê¸¸ì´ ê²€ì¦
    if len(header) > 72:
        return False, f"ì»¤ë°‹ ë©”ì‹œì§€ ì œëª©ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ ({len(header)}ì). 72ì ì´ë‚´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”."
    
    # ì„¤ëª… ê²€ì¦
    description_match = re.search(r': (.+)$', header)
    if description_match:
        description = description_match.group(1)
        if len(description) < 5:
            return False, "ì»¤ë°‹ ì„¤ëª…ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. ìµœì†Œ 5ì ì´ìƒ ì‘ì„±í•´ì£¼ì„¸ìš”."
        
        if description[0].isupper():
            return False, "ì»¤ë°‹ ì„¤ëª…ì€ ì†Œë¬¸ìë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤."
        
        if description.endswith('.'):
            return False, "ì»¤ë°‹ ì„¤ëª…ì€ ë§ˆì¹¨í‘œë¡œ ëë‚˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤."
    
    return True, "ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì˜¬ë°”ë¦…ë‹ˆë‹¤"

def main():
    """ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜"""
    if len(sys.argv) < 2:
        print("âŒ ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì¼ì´ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤")
        sys.exit(1)
    
    commit_msg_file = Path(sys.argv[1])
    
    if not commit_msg_file.exists():
        print(f"âŒ ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {commit_msg_file}")
        sys.exit(1)
    
    try:
        message = commit_msg_file.read_text(encoding='utf-8')
    except Exception as e:
        print(f"âŒ ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: {e}")
        sys.exit(1)
    
    # Merge ì»¤ë°‹ì€ ê²€ì¦ ì œì™¸
    if message.startswith('Merge '):
        print("â„¹ï¸ Merge ì»¤ë°‹ì€ ê²€ì¦ì„ ê±´ë„ˆëœë‹ˆë‹¤")
        sys.exit(0)
    
    # Revert ì»¤ë°‹ì€ ê²€ì¦ ì œì™¸
    if message.startswith('Revert '):
        print("â„¹ï¸ Revert ì»¤ë°‹ì€ ê²€ì¦ì„ ê±´ë„ˆëœë‹ˆë‹¤")
        sys.exit(0)
    
    is_valid, error_message = validate_commit_message(message)
    
    if is_valid:
        print("âœ… ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í†µê³¼")
        sys.exit(0)
    else:
        print(error_message)
        print("\nğŸ’¡ ì˜¬ë°”ë¥¸ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±ì„ ìœ„í•´ 'cz commit' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”!")
        sys.exit(1)

if __name__ == "__main__":
    main()
EOF

chmod +x scripts/hooks/validate_commit_message.py

echo "ğŸ” ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í›… ìƒì„± ì™„ë£Œ"
```

---

## ğŸ¯ 3. ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ ê°œë°œ

### 3.1 AI ê¸°ë°˜ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ë„êµ¬

```bash
# ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ë„êµ¬
cat > scripts/smart_commit.py << 'EOF'
#!/usr/bin/env python3
"""
AI ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ë„êµ¬
"""
import subprocess
import sys
import json
import re
from typing import List, Dict, Optional

class SmartCommitGenerator:
    """ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.staged_files = self._get_staged_files()
        self.diff_content = self._get_diff_content()
    
    def _run_git_command(self, cmd: List[str]) -> str:
        """Git ëª…ë ¹ì–´ ì‹¤í–‰"""
        try:
            result = subprocess.run(
                ['git'] + cmd,
                capture_output=True,
                text=True,
                check=True
            )
            return result.stdout.strip()
        except subprocess.CalledProcessError as e:
            print(f"âŒ Git ëª…ë ¹ì–´ ì‹¤í–‰ ì‹¤íŒ¨: {' '.join(cmd)}")
            return ""
    
    def _get_staged_files(self) -> List[str]:
        """ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°"""
        output = self._run_git_command(['diff', '--cached', '--name-only'])
        return [f for f in output.split('\n') if f.strip()]
    
    def _get_diff_content(self) -> str:
        """ìŠ¤í…Œì´ì§•ëœ ë³€ê²½ì‚¬í•­ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°"""
        return self._run_git_command(['diff', '--cached'])
    
    def _analyze_file_patterns(self) -> Dict[str, List[str]]:
        """íŒŒì¼ íŒ¨í„´ ë¶„ì„"""
        patterns = {
            'docs': [],
            'tests': [],
            'config': [],
            'data': [],
            'scripts': [],
            'src': [],
            'docker': [],
            'github': []
        }
        
        for file_path in self.staged_files:
            if file_path.startswith('docs/'):
                patterns['docs'].append(file_path)
            elif file_path.startswith('tests/') or 'test_' in file_path:
                patterns['tests'].append(file_path)
            elif file_path.startswith('config/') or file_path.endswith(('.yaml', '.yml', '.json', '.toml')):
                patterns['config'].append(file_path)
            elif file_path.startswith('data/'):
                patterns['data'].append(file_path)
            elif file_path.startswith('scripts/'):
                patterns['scripts'].append(file_path)
            elif file_path.startswith('src/'):
                patterns['src'].append(file_path)
            elif 'docker' in file_path.lower() or file_path.startswith('Dockerfile'):
                patterns['docker'].append(file_path)
            elif file_path.startswith('.github/'):
                patterns['github'].append(file_path)
        
        return {k: v for k, v in patterns.items() if v}
    
    def _detect_mlops_stage(self) -> Optional[str]:
        """MLOps ë‹¨ê³„ ê°ì§€"""
        for file_path in self.staged_files:
            if 'stage1' in file_path or 'data-processing' in file_path:
                return 'stage1'
            elif 'stage2' in file_path or 'feature-store' in file_path:
                return 'stage2'
            elif 'stage3' in file_path or 'version-control' in file_path:
                return 'stage3'
            elif 'stage4' in file_path or 'cicd' in file_path:
                return 'stage4'
            elif 'stage5' in file_path or 'orchestration' in file_path:
                return 'stage5'
            elif 'stage6' in file_path or 'model-registry' in file_path:
                return 'stage6'
            elif 'stage7' in file_path or 'model-serving' in file_path:
                return 'stage7'
            elif 'stage8' in file_path or 'monitoring' in file_path:
                return 'stage8'
            elif 'stage9' in file_path or 'event-driven' in file_path:
                return 'stage9'
        return None
    
    def _suggest_commit_type(self, patterns: Dict[str, List[str]]) -> str:
        """ì»¤ë°‹ íƒ€ì… ì œì•ˆ"""
        if patterns.get('docs'):
            return 'docs'
        elif patterns.get('tests'):
            return 'test'
        elif patterns.get('config'):
            return 'config'
        elif patterns.get('data'):
            return 'data'
        elif patterns.get('docker'):
            return 'infra'
        elif patterns.get('github'):
            return 'ci'
        elif any('fix' in line.lower() for line in self.diff_content.split('\n')[:20]):
            return 'fix'
        else:
            return 'feat'
    
    def _suggest_scope(self, patterns: Dict[str, List[str]]) -> Optional[str]:
        """ìŠ¤ì½”í”„ ì œì•ˆ"""
        # MLOps ë‹¨ê³„ ìš°ì„ 
        stage = self._detect_mlops_stage()
        if stage:
            return stage
        
        # íŒŒì¼ íŒ¨í„´ ê¸°ë°˜
        if patterns.get('docker'):
            return 'docker'
        elif patterns.get('config'):
            return 'config'
        elif patterns.get('tests'):
            return 'tests'
        elif any('api' in f.lower() for f in self.staged_files):
            return 'api'
        elif any('crawler' in f.lower() for f in self.staged_files):
            return 'crawler'
        
        return None
    
    def _generate_description(self, commit_type: str, patterns: Dict[str, List[str]]) -> str:
        """ì„¤ëª… ìƒì„±"""
        if commit_type == 'docs':
            return "update documentation"
        elif commit_type == 'test':
            return "add unit tests"
        elif commit_type == 'config':
            return "update configuration settings"
        elif commit_type == 'data':
            return "update data schema or processing"
        elif commit_type == 'fix':
            return "resolve issue in implementation"
        elif commit_type == 'feat':
            # ë” êµ¬ì²´ì ì¸ ì„¤ëª… ì‹œë„
            if any('crawler' in f.lower() for f in self.staged_files):
                return "implement data crawler functionality"
            elif any('api' in f.lower() for f in self.staged_files):
                return "add API endpoint implementation"
            elif any('docker' in f.lower() for f in self.staged_files):
                return "configure container environment"
            else:
                return "implement new functionality"
        else:
            return "update implementation"
    
    def generate_suggestions(self) -> List[str]:
        """ì»¤ë°‹ ë©”ì‹œì§€ ì œì•ˆ ìƒì„±"""
        if not self.staged_files:
            return ["âš ï¸ ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € 'git add' ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”."]
        
        patterns = self._analyze_file_patterns()
        commit_type = self._suggest_commit_type(patterns)
        scope = self._suggest_scope(patterns)
        description = self._generate_description(commit_type, patterns)
        
        suggestions = []
        
        # ìŠ¤ì½”í”„ê°€ ìˆëŠ” ê²½ìš°
        if scope:
            suggestions.append(f"{commit_type}({scope}): {description}")
        
        # ìŠ¤ì½”í”„ê°€ ì—†ëŠ” ê²½ìš°
        suggestions.append(f"{commit_type}: {description}")
        
        # ëŒ€ì•ˆ ì œì•ˆ
        if commit_type == 'feat':
            suggestions.append(f"fix({scope}): resolve issue in {scope if scope else 'implementation'}")
        elif commit_type == 'fix':
            suggestions.append(f"feat({scope}): add new {scope if scope else 'feature'}")
        
        return suggestions
    
    def interactive_commit(self):
        """ëŒ€í™”í˜• ì»¤ë°‹ ìƒì„±"""
        print("ğŸ¤– ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±ê¸°")
        print(f"ğŸ“ ìŠ¤í…Œì´ì§•ëœ íŒŒì¼: {len(self.staged_files)}ê°œ")
        
        if not self.staged_files:
            print("âš ï¸ ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
            print("   ë¨¼ì € 'git add <files>' ëª…ë ¹ì–´ë¡œ íŒŒì¼ì„ ìŠ¤í…Œì´ì§•í•˜ì„¸ìš”.")
            return
        
        print("\nğŸ“‹ ìŠ¤í…Œì´ì§•ëœ íŒŒì¼:")
        for file in self.staged_files[:5]:  # ìµœëŒ€ 5ê°œë§Œ í‘œì‹œ
            print(f"  - {file}")
        if len(self.staged_files) > 5:
            print(f"  ... ë° {len(self.staged_files) - 5}ê°œ ë”")
        
        suggestions = self.generate_suggestions()
        
        print("\nğŸ’¡ ì œì•ˆëœ ì»¤ë°‹ ë©”ì‹œì§€:")
        for i, suggestion in enumerate(suggestions, 1):
            print(f"  {i}. {suggestion}")
        
        print(f"  {len(suggestions) + 1}. ì§ì ‘ ì…ë ¥")
        print(f"  {len(suggestions) + 2}. Commitizen ì‚¬ìš© (cz commit)")
        print(f"  0. ì·¨ì†Œ")
        
        while True:
            try:
                choice = input("\nì„ íƒí•´ì£¼ì„¸ìš” (ìˆ«ì ì…ë ¥): ").strip()
                
                if choice == '0':
                    print("ì»¤ë°‹ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")
                    return
                elif choice == str(len(suggestions) + 1):
                    # ì§ì ‘ ì…ë ¥
                    custom_message = input("ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”: ").strip()
                    if custom_message:
                        self._execute_commit(custom_message)
                    return
                elif choice == str(len(suggestions) + 2):
                    # Commitizen ì‹¤í–‰
                    print("Commitizenì„ ì‹¤í–‰í•©ë‹ˆë‹¤...")
                    subprocess.run(['cz', 'commit'])
                    return
                else:
                    choice_idx = int(choice) - 1
                    if 0 <= choice_idx < len(suggestions):
                        selected_message = suggestions[choice_idx]
                        print(f"\nì„ íƒëœ ë©”ì‹œì§€: {selected_message}")
                        confirm = input("ì´ ë©”ì‹œì§€ë¡œ ì»¤ë°‹í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N): ").strip().lower()
                        if confirm == 'y':
                            self._execute_commit(selected_message)
                        return
                    else:
                        print("ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            except (ValueError, KeyboardInterrupt):
                print("\nì»¤ë°‹ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")
                return
    
    def _execute_commit(self, message: str):
        """ì»¤ë°‹ ì‹¤í–‰"""
        try:
            result = subprocess.run(
                ['git', 'commit', '-m', message],
                capture_output=True,
                text=True,
                check=True
            )
            print(f"âœ… ì»¤ë°‹ ì™„ë£Œ: {message}")
            print(result.stdout)
        except subprocess.CalledProcessError as e:
            print(f"âŒ ì»¤ë°‹ ì‹¤íŒ¨: {e.stderr}")

def main():
    """ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜"""
    generator = SmartCommitGenerator()
    generator.interactive_commit()

if __name__ == "__main__":
    main()
EOF

chmod +x scripts/smart_commit.py

echo "ğŸ¤– ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ ìƒì„± ì™„ë£Œ"
```

### 3.2 Git ë³„ì¹­ ì„¤ì •

```bash
# Git ë³„ì¹­ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
cat > scripts/setup_git_aliases.sh << 'EOF'
#!/bin/bash
# MLOps í”„ë¡œì íŠ¸ìš© Git ë³„ì¹­ ì„¤ì •

echo "ğŸ”— MLOps Git ë³„ì¹­ ì„¤ì • ì¤‘..."

# ê¸°ë³¸ Git ë³„ì¹­
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.cm commit
git config --global alias.lg "log --graph --oneline --all --decorate"
git config --global alias.last "log -1 HEAD"
git config --global alias.unstage "reset HEAD --"

# MLOps íŠ¹í™” ë³„ì¹­
git config --global alias.commit-smart "!python scripts/smart_commit.py"
git config --global alias.commit-cz "!cz commit"
git config --global alias.commit-analyze "!python scripts/analyze_commits.py"

# ì»¤ë°‹ ê´€ë ¨ ë³„ì¹­
git config --global alias.commit-fix '!f() { git commit -m "fix: $1"; }; f'
git config --global alias.commit-feat '!f() { git commit -m "feat: $1"; }; f'
git config --global alias.commit-docs '!f() { git commit -m "docs: $1"; }; f'

echo "âœ… Git ë³„ì¹­ ì„¤ì • ì™„ë£Œ!"
echo ""
echo "ğŸ“ ì‚¬ìš© ê°€ëŠ¥í•œ ë³„ì¹­:"
echo "  git commit-smart    # ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬"
echo "  git commit-cz       # Commitizen ì»¤ë°‹"
echo "  git commit-analyze  # ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„"
echo "  git commit-feat 'ìƒˆ ê¸°ëŠ¥ ì„¤ëª…'"
echo "  git commit-fix 'ë²„ê·¸ ìˆ˜ì • ì„¤ëª…'"
echo "  git commit-docs 'ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì„¤ëª…'"
EOF

chmod +x scripts/setup_git_aliases.sh

echo "ğŸ”— Git ë³„ì¹­ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì™„ë£Œ"
```

---

## ğŸ¯ 4. ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„ ë„êµ¬

### 4.1 ì»¤ë°‹ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸

```bash
# ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„ ë„êµ¬
cat > scripts/analyze_commits.py << 'EOF'
#!/usr/bin/env python3
"""
ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„ ë„êµ¬
"""
import subprocess
import re
import json
from collections import defaultdict, Counter
from datetime import datetime, timedelta
from typing import Dict, List, Tuple

def get_commit_history(days: int = 30) -> List[str]:
    """ìµœê·¼ Nì¼ê°„ì˜ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ ê°€ì ¸ì˜¤ê¸°"""
    since_date = (datetime.now() - timedelta(days=days)).strftime('%Y-%m-%d')
    
    result = subprocess.run([
        'git', 'log', '--oneline', '--since', since_date
    ], capture_output=True, text=True)
    
    return result.stdout.strip().split('\n') if result.stdout.strip() else []

def parse_commit_message(commit_line: str) -> Dict:
    """ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì‹±"""
    # ì»¤ë°‹ í•´ì‹œì™€ ë©”ì‹œì§€ ë¶„ë¦¬
    parts = commit_line.split(' ', 1)
    if len(parts) < 2:
        return {'hash': parts[0], 'valid': False, 'raw': commit_line}
    
    commit_hash, message = parts
    
    # Conventional Commits íŒ¨í„´ ë§¤ì¹­
    pattern = r'^(feat|fix|docs|style|refactor|test|chore|perf|ci|revert|data|model|pipeline|deploy|config|infra|monitor)(\(.+\))?: .+'
    
    match = re.match(pattern, message)
    
    if match:
        commit_type = match.group(1)
        scope = match.group(2)[1:-1] if match.group(2) else None
        description = message.split(': ', 1)[1] if ': ' in message else message
        
        return {
            'hash': commit_hash,
            'type': commit_type,
            'scope': scope,
            'description': description,
            'raw': message,
            'valid': True
        }
    else:
        return {
            'hash': commit_hash,
            'raw': message,
            'valid': False
        }

def analyze_commit_quality(commits: List[Dict]) -> Dict:
    """ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„"""
    
    total_commits = len(commits)
    valid_commits = sum(1 for c in commits if c.get('valid', False))
    
    # íƒ€ì…ë³„ ë¶„í¬
    type_distribution = Counter(c['type'] for c in commits if c.get('valid'))
    
    # ìŠ¤ì½”í”„ ì‚¬ìš©ë¥ 
    scoped_commits = sum(1 for c in commits if c.get('valid') and c.get('scope'))
    
    # ì„¤ëª… ê¸¸ì´ ë¶„ì„
    description_lengths = [len(c['description']) for c in commits if c.get('valid')]
    avg_description_length = sum(description_lengths) / len(description_lengths) if description_lengths else 0
    
    # í’ˆì§ˆ ì ìˆ˜ ê³„ì‚°
    compliance_rate = (valid_commits / total_commits) * 100 if total_commits > 0 else 0
    scope_usage_rate = (scoped_commits / valid_commits) * 100 if valid_commits > 0 else 0
    
    quality_score = (compliance_rate * 0.6 + scope_usage_rate * 0.4)
    
    return {
        'total_commits': total_commits,
        'valid_commits': valid_commits,
        'compliance_rate': round(compliance_rate, 2),
        'scope_usage_rate': round(scope_usage_rate, 2),
        'quality_score': round(quality_score, 2),
        'type_distribution': dict(type_distribution),
        'avg_description_length': round(avg_description_length, 2),
        'invalid_commits': [c['raw'] for c in commits if not c.get('valid')]
    }

def generate_commit_report() -> str:
    """ì»¤ë°‹ ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±"""
    
    commits_raw = get_commit_history(30)
    commits = [parse_commit_message(line) for line in commits_raw if line]
    
    analysis = analyze_commit_quality(commits)
    
    report = f"""
ğŸ“Š ì»¤ë°‹ ë©”ì‹œì§€ í’ˆì§ˆ ë¦¬í¬íŠ¸ (ìµœê·¼ 30ì¼)
{'=' * 50}

ğŸ“ˆ ì „ì²´ í†µê³„:
- ì´ ì»¤ë°‹ ìˆ˜: {analysis['total_commits']}
- ê·œì¹™ ì¤€ìˆ˜ ì»¤ë°‹: {analysis['valid_commits']}
- ì¤€ìˆ˜ìœ¨: {analysis['compliance_rate']}%
- ìŠ¤ì½”í”„ ì‚¬ìš©ë¥ : {analysis['scope_usage_rate']}%
- í’ˆì§ˆ ì ìˆ˜: {analysis['quality_score']}/100

ğŸ·ï¸  ì»¤ë°‹ íƒ€ì… ë¶„í¬:
"""
    
    for commit_type, count in analysis['type_distribution'].items():
        percentage = (count / analysis['valid_commits']) * 100 if analysis['valid_commits'] > 0 else 0
        report += f"- {commit_type}: {count}ê°œ ({percentage:.1f}%)\n"
    
    report += f"\nğŸ“ í‰ê·  ì„¤ëª… ê¸¸ì´: {analysis['avg_description_length']} ê¸€ì\n"
    
    if analysis['invalid_commits']:
        report += f"\nâŒ ê·œì¹™ ìœ„ë°˜ ì»¤ë°‹ ({len(analysis['invalid_commits'])}ê°œ):\n"
        for invalid in analysis['invalid_commits'][:5]:  # ìµœëŒ€ 5ê°œë§Œ í‘œì‹œ
            report += f"- {invalid}\n"
        
        if len(analysis['invalid_commits']) > 5:
            report += f"... ê·¸ ì™¸ {len(analysis['invalid_commits']) - 5}ê°œ\n"
    
    # ê°œì„  ì œì•ˆ
    report += "\nğŸ’¡ ê°œì„  ì œì•ˆ:\n"
    
    if analysis['compliance_rate'] < 90:
        report += "- ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ ì¤€ìˆ˜ìœ¨ì„ ë†’ì´ì„¸ìš”\n"
        report += "- 'cz commit' ë˜ëŠ” 'git commit-smart' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”\n"
    
    if analysis['scope_usage_rate'] < 70:
        report += "- ìŠ¤ì½”í”„ ì‚¬ìš©ì„ ëŠ˜ë ¤ ë³€ê²½ì‚¬í•­ì„ ëª…í™•íˆ í•˜ì„¸ìš”\n"
    
    if analysis['avg_description_length'] < 20:
        report += "- ì»¤ë°‹ ì„¤ëª…ì„ ë” ìì„¸íˆ ì‘ì„±í•˜ì„¸ìš”\n"
    
    return report

def main():
    """ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜"""
    print(generate_commit_report())

if __name__ == "__main__":
    main()
EOF

chmod +x scripts/analyze_commits.py

echo "ğŸ“Š ì»¤ë°‹ ë¶„ì„ ë„êµ¬ ìƒì„± ì™„ë£Œ"
```

---

## ğŸ¯ 5. Docker í™˜ê²½ í†µí•©

### 5.1 Docker Composeì— ì»¤ë°‹ ë„êµ¬ ì¶”ê°€

```bash
# Docker Composeì— ì»¤ë°‹ ë„êµ¬ ì„œë¹„ìŠ¤ ì¶”ê°€
cat > docker-compose.commit-tools.yml << 'EOF'
version: '3.8'

services:
  commit-tools:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: movie-mlops-commit-tools
    volumes:
      - .:/workspace
      - ~/.ssh:/root/.ssh:ro
      - ~/.gitconfig:/root/.gitconfig:ro
    working_dir: /workspace
    environment:
      - PYTHONPATH=/workspace
      - GIT_AUTHOR_NAME=${GIT_AUTHOR_NAME:-MLOps Developer}
      - GIT_AUTHOR_EMAIL=${GIT_AUTHOR_EMAIL:-dev@mlops.local}
    command: |
      bash -c "
        echo 'ğŸ¤– MLOps ì»¤ë°‹ ë„êµ¬ í™˜ê²½'
        echo ''
        echo 'ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ ì»¤ë°‹ ë„êµ¬:'
        echo '  cz commit                    # Commitizen ëŒ€í™”í˜• ì»¤ë°‹'
        echo '  python scripts/smart_commit.py  # ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬'
        echo '  python scripts/analyze_commits.py  # ì»¤ë°‹ í’ˆì§ˆ ë¶„ì„'
        echo ''
        echo 'ğŸ”§ Git ë³„ì¹­:'
        echo '  git commit-smart   # ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹'
        echo '  git commit-cz      # Commitizen'
        echo '  git commit-analyze # í’ˆì§ˆ ë¶„ì„'
        echo ''
        echo 'ğŸ“Š Pre-commit ë„êµ¬:'
        echo '  pre-commit run --all-files  # ëª¨ë“  ê²€ì‚¬ ì‹¤í–‰'
        echo ''
        tail -f /dev/null
      "
    networks:
      - mlops-network

networks:
  mlops-network:
    external: true
EOF

echo "ğŸ³ Docker Compose ì»¤ë°‹ ë„êµ¬ ì„œë¹„ìŠ¤ ìƒì„± ì™„ë£Œ"
```

---

## ğŸ¯ 6. í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### 6.1 ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

```bash
# ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
cat > scripts/test_commit_convention.py << 'EOF'
#!/usr/bin/env python3
"""
ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
"""
import subprocess
import sys
import tempfile
from pathlib import Path

class CommitConventionTester:
    """ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤"""
    
    def test_commitizen_installation(self) -> bool:
        """Commitizen ì„¤ì¹˜ í…ŒìŠ¤íŠ¸"""
        print("ğŸ§ª Commitizen ì„¤ì¹˜ í…ŒìŠ¤íŠ¸...")
        try:
            result = subprocess.run(['cz', 'version'], capture_output=True, text=True)
            if result.returncode == 0:
                print(f"  âœ… Commitizen ì„¤ì¹˜ë¨: {result.stdout.strip()}")
                return True
            else:
                print(f"  âŒ Commitizen ì‹¤í–‰ ì‹¤íŒ¨")
                return False
        except FileNotFoundError:
            print(f"  âŒ Commitizenì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤")
            return False
    
    def test_pre_commit_hooks(self) -> bool:
        """Pre-commit hooks í…ŒìŠ¤íŠ¸"""
        print("\nğŸ§ª Pre-commit hooks í…ŒìŠ¤íŠ¸...")
        try:
            result = subprocess.run(['pre-commit', '--version'], capture_output=True, text=True)
            if result.returncode == 0:
                print(f"  âœ… Pre-commit ì„¤ì¹˜ë¨: {result.stdout.strip()}")
                
                # hooks ì„¤ì¹˜ í™•ì¸
                result = subprocess.run(['pre-commit', 'run', '--all-files'], 
                                      capture_output=True, text=True)
                print(f"  âœ… Pre-commit hooks ì‹¤í–‰ ê°€ëŠ¥")
                return True
            else:
                print(f"  âŒ Pre-commit ì‹¤í–‰ ì‹¤íŒ¨")
                return False
        except FileNotFoundError:
            print(f"  âŒ Pre-commitì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤")
            return False
    
    def test_commit_message_validation(self) -> bool:
        """ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í…ŒìŠ¤íŠ¸"""
        print("\nğŸ§ª ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ í…ŒìŠ¤íŠ¸...")
        
        # ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì¡´ì¬ í™•ì¸
        validation_script = Path('scripts/hooks/validate_commit_message.py')
        if not validation_script.exists():
            print(f"  âŒ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤: {validation_script}")
            return False
        
        # ì˜¬ë°”ë¥¸ ì»¤ë°‹ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸
        valid_messages = [
            "feat(stage1): add TMDB API integration",
            "fix(docker): resolve WSL permission issue", 
            "docs: update README with setup instructions",
            "data(stage2): add movie feature engineering"
        ]
        
        # ì˜ëª»ëœ ì»¤ë°‹ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸
        invalid_messages = [
            "add new feature",  # íƒ€ì… ì—†ìŒ
            "feat add feature", # ì½œë¡  ì—†ìŒ
            "FEAT: add feature", # ëŒ€ë¬¸ì
            "feat: Fix bug."     # ëŒ€ë¬¸ì ì‹œì‘, ë§ˆì¹¨í‘œ
        ]
        
        all_passed = True
        
        print("  ğŸ“ ì˜¬ë°”ë¥¸ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸:")
        for msg in valid_messages:
            with tempfile.NamedTemporaryFile(mode='w', delete=False) as f:
                f.write(msg)
                f.flush()
                
                result = subprocess.run(
                    ['python', str(validation_script), f.name],
                    capture_output=True, text=True
                )
                
                if result.returncode == 0:
                    print(f"    âœ… {msg}")
                else:
                    print(f"    âŒ {msg} - ì˜¬ë°”ë¥¸ ë©”ì‹œì§€ì´ì§€ë§Œ ì‹¤íŒ¨")
                    all_passed = False
                
                Path(f.name).unlink()
        
        print("  ğŸ“ ì˜ëª»ëœ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸:")
        for msg in invalid_messages:
            with tempfile.NamedTemporaryFile(mode='w', delete=False) as f:
                f.write(msg)
                f.flush()
                
                result = subprocess.run(
                    ['python', str(validation_script), f.name],
                    capture_output=True, text=True
                )
                
                if result.returncode != 0:
                    print(f"    âœ… {msg} - ì˜¬ë°”ë¥´ê²Œ ê±°ë¶€ë¨")
                else:
                    print(f"    âŒ {msg} - ì˜ëª»ëœ ë©”ì‹œì§€ì´ì§€ë§Œ í†µê³¼")
                    all_passed = False
                
                Path(f.name).unlink()
        
        return all_passed
    
    def test_smart_commit_tool(self) -> bool:
        """ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ í…ŒìŠ¤íŠ¸"""
        print("\nğŸ§ª ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ í…ŒìŠ¤íŠ¸...")
        
        smart_commit_script = Path('scripts/smart_commit.py')
        if not smart_commit_script.exists():
            print(f"  âŒ ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ìŠ¤í¬ë¦½íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤: {smart_commit_script}")
            return False
        
        try:
            result = subprocess.run(
                ['python', str(smart_commit_script), '--help'],
                capture_output=True, text=True, timeout=5
            )
            print(f"  âœ… ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ ì‹¤í–‰ ê°€ëŠ¥")
            return True
        except Exception as e:
            print(f"  âš ï¸ ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬ í…ŒìŠ¤íŠ¸ ê±´ë„ˆëœ€ (ëŒ€í™”í˜• ë„êµ¬)")
            return True  # ëŒ€í™”í˜• ë„êµ¬ì´ë¯€ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë©´ í†µê³¼
    
    def test_commit_analysis_tool(self) -> bool:
        """ì»¤ë°‹ ë¶„ì„ ë„êµ¬ í…ŒìŠ¤íŠ¸"""
        print("\nğŸ§ª ì»¤ë°‹ ë¶„ì„ ë„êµ¬ í…ŒìŠ¤íŠ¸...")
        
        analysis_script = Path('scripts/analyze_commits.py')
        if not analysis_script.exists():
            print(f"  âŒ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤: {analysis_script}")
            return False
        
        try:
            result = subprocess.run(
                ['python', str(analysis_script)],
                capture_output=True, text=True, timeout=10
            )
            if result.returncode == 0:
                print(f"  âœ… ì»¤ë°‹ ë¶„ì„ ë„êµ¬ ì‹¤í–‰ ì™„ë£Œ")
                return True
            else:
                print(f"  âŒ ì»¤ë°‹ ë¶„ì„ ë„êµ¬ ì‹¤í–‰ ì‹¤íŒ¨")
                return False
        except Exception as e:
            print(f"  âŒ ì»¤ë°‹ ë¶„ì„ ë„êµ¬ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: {e}")
            return False
    
    def run_all_tests(self) -> bool:
        """ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰"""
        print("ğŸš€ ì»¤ë°‹ ì»¨ë²¤ì…˜ ì¢…í•© í…ŒìŠ¤íŠ¸ ì‹œì‘...\n")
        
        tests = [
            ("Commitizen ì„¤ì¹˜", self.test_commitizen_installation),
            ("Pre-commit Hooks", self.test_pre_commit_hooks),
            ("ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦", self.test_commit_message_validation),
            ("ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë„êµ¬", self.test_smart_commit_tool),
            ("ì»¤ë°‹ ë¶„ì„ ë„êµ¬", self.test_commit_analysis_tool),
        ]
        
        passed_tests = 0
        total_tests = len(tests)
        
        for test_name, test_func in tests:
            try:
                if test_func():
                    passed_tests += 1
            except Exception as e:
                print(f"âŒ {test_name} í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}")
        
        # ê²°ê³¼ ìš”ì•½
        print("\nğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½:")
        print(f"  ì „ì²´ í…ŒìŠ¤íŠ¸: {total_tests}")
        print(f"  í†µê³¼í•œ í…ŒìŠ¤íŠ¸: {passed_tests}")
        print(f"  ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸: {total_tests - passed_tests}")
        print(f"  ì„±ê³µë¥ : {(passed_tests / total_tests * 100):.1f}%")
        
        if passed_tests == total_tests:
            print("\nğŸ‰ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤!")
            return True
        else:
            print(f"\nâš ï¸ {total_tests - passed_tests}ê°œ í…ŒìŠ¤íŠ¸ì—ì„œ ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.")
            return False

def main():
    tester = CommitConventionTester()
    success = tester.run_all_tests()
    sys.exit(0 if success else 1)

if __name__ == "__main__":
    main()
EOF

chmod +x scripts/test_commit_convention.py

echo "ğŸ§ª ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì™„ë£Œ"
```

### 6.2 ì¢…í•© ì„¤ì • ë° í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì»¤ë°‹ ì»¨ë²¤ì…˜ ì¢…í•© ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
cat > scripts/setup_commit_convention.sh << 'EOF'
#!/bin/bash
# ì»¤ë°‹ ì»¨ë²¤ì…˜ ì¢…í•© ì„¤ì • ìŠ¤í¬ë¦½íŠ¸

echo "ğŸš€ MLOps ì»¤ë°‹ ì»¨ë²¤ì…˜ ì„¤ì • ì‹œì‘..."

# 1. Git ë³„ì¹­ ì„¤ì •
echo "1. Git ë³„ì¹­ ì„¤ì •..."
bash scripts/setup_git_aliases.sh

# 2. Pre-commit ì„¤ì¹˜ ë° ì„¤ì •
echo "2. Pre-commit ì„¤ì •..."
pre-commit install
pre-commit install --hook-type commit-msg

# 3. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ì„¤ì •
echo "3. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ì„¤ì •..."
chmod +x scripts/smart_commit.py
chmod +x scripts/analyze_commits.py
chmod +x scripts/hooks/validate_commit_message.py

# 4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
echo "4. ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸..."
python scripts/test_commit_convention.py

echo ""
echo "âœ… 3.3 ì»¤ë°‹ ì»¨ë²¤ì…˜ êµ¬í˜„ ì™„ë£Œ!"
echo ""
echo "ğŸ“ ì‚¬ìš©ë²•:"
echo "  ğŸ¤– ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹: git commit-smart"
echo "  ğŸ“‹ í‘œì¤€ ì»¤ë°‹: git commit-cz"
echo "  ğŸ“Š í’ˆì§ˆ ë¶„ì„: git commit-analyze"
echo "  ğŸ” ëª¨ë“  ê²€ì‚¬: pre-commit run --all-files"
EOF

chmod +x scripts/setup_commit_convention.sh

# ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
bash scripts/setup_commit_convention.sh

echo ""
echo "âœ… 3.3 ì»¤ë°‹ ì»¨ë²¤ì…˜ êµ¬í˜„ ì™„ë£Œ!"
```

---

## âœ… ì™„ë£Œ ê¸°ì¤€

### ê¸°ë³¸ ì„¤ì •
- [ ] Commitizen ì„¤ì¹˜ ë° ì„¤ì • ì™„ë£Œ
- [ ] pyproject.tomlì— ì»¤ë°‹ ì»¨ë²¤ì…˜ ì„¤ì •
- [ ] MLOps íŠ¹í™” ì»¤ë°‹ íƒ€ì… ì •ì˜
- [ ] ìŠ¤ì½”í”„ ê·œì¹™ ì„¤ì •

### Pre-commit Hook
- [ ] .pre-commit-config.yaml ì„¤ì •
- [ ] conventional-pre-commit í›… ì„¤ì¹˜
- [ ] ì»¤ë°‹ ë©”ì‹œì§€ ìë™ ê²€ì¦
- [ ] ì»¤ìŠ¤í…€ MLOps ê²€ì¦ í›… êµ¬í˜„

### ìë™í™” ë„êµ¬
- [ ] ìŠ¤ë§ˆíŠ¸ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
- [ ] ì»¤ë°‹ ë¶„ì„ ë° í’ˆì§ˆ í‰ê°€ ë„êµ¬
- [ ] Git ë³„ì¹­ ì„¤ì • ë° ìµœì í™”
- [ ] ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ë¦¬í¬íŒ…

### Docker í™˜ê²½ í†µí•©
- [ ] ê°œë°œ ì»¨í…Œì´ë„ˆì— ì»¤ë°‹ ë„êµ¬ í¬í•¨
- [ ] Docker Compose í™˜ê²½ ì„¤ì •
- [ ] WSL í™˜ê²½ ìµœì í™”
- [ ] ì»¨í…Œì´ë„ˆ ë‚´ë¶€ Git ì„¤ì •

### í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- [ ] ì»¤ë°‹ ì»¨ë²¤ì…˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
- [ ] ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
- [ ] ìë™í™” ë„êµ¬ í…ŒìŠ¤íŠ¸
- [ ] í’ˆì§ˆ ë©”íŠ¸ë¦­ ê²€ì¦

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

ì»¤ë°‹ ì»¨ë²¤ì…˜ êµ¬í˜„ì´ ì™„ë£Œë˜ë©´:

1. **3.4 Pull Request Process Setup**: PR í”„ë¡œì„¸ìŠ¤ ì„¤ì •
2. **3.5 Code Review Guidelines**: ì½”ë“œ ë¦¬ë·° ê°€ì´ë“œë¼ì¸
3. **íŒ€ì› êµìœ¡**: ì»¤ë°‹ ì»¨ë²¤ì…˜ ì‚¬ìš©ë²• êµìœ¡

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Conventional Commits ëª…ì„¸](https://www.conventionalcommits.org/)
- [Commitizen ê³µì‹ ë¬¸ì„œ](https://commitizen-tools.github.io/commitizen/)
- [Pre-commit ê³µì‹ ê°€ì´ë“œ](https://pre-commit.com/)
- [MLOps ì»¤ë°‹ ì»¨ë²¤ì…˜ ëª¨ë²” ì‚¬ë¡€](https://mlops-guide.github.io/)

ì´ì œ MLOps í”„ë¡œì íŠ¸ì— ìµœì í™”ëœ ì²´ê³„ì ì´ê³  ìë™í™”ëœ ì»¤ë°‹ ì»¨ë²¤ì…˜ì´ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤!
